import{b as s,c as D,k as x,j as c,Y as N,V as j,W as l}from"./index-Y6wEfcXi.js";import{F as S}from"./FormChangeAddDish-tuu2hZD0.js";import{C as w}from"./Container-w7WmnZ9o.js";import"./index-iTD9QEn1.js";import"./index.esm-bmORkoJ8.js";import"./index.esm-xP3gH4FX.js";import"./index.esm-6LkaSKmE.js";import"./specifics_dish-wj0nZKOz.js";import"./defaultTheme-g80pmSXz.js";import"./styled-GwjORSNC.js";import"./ButtonBase-yFDMo1BQ.js";import"./TransitionGroupContext-VfsRehXr.js";import"./utils-1m6RcqnS.js";import"./MarkupComponent.styled-k7prUK9F.js";const Q=()=>{var n,o;const[r,m]=s.useState(null),d=D(),p=x(),e=s.useRef(((n=p.state)==null?void 0:n.from.pathname)??""),a=s.useRef(((o=p.state)==null?void 0:o.value)??""),h=e.current===""?"":e.current.split("/")[2],f=a.current===""?"":a.current,u={image:"",name:"",description:"",price:"",discounted:0,gram:"",specificsName:h,specifics:f},g=t=>{const i=new FormData;return i.append("description",t.description),i.append("discounted",t.discounted),i.append("image",r||t.image),i.append("name",t.name),i.append("price",t.price),i.append("gram",t.gram),i.append("specificsDish",JSON.stringify({[t.specificsName]:t.specifics})),d(N(i)),j.success("Dish added",l)};return c.jsx("section",{children:c.jsx(w,{children:c.jsx(S,{handelSubmitForm:g,initialValues:u,setPatchImg:m,newDish:!0,patch:e.current})})})};export{Q as default};

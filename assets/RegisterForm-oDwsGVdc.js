import{b as r,c as N,d as F,f as R,j as e,L as S,C}from"./index-Y6wEfcXi.js";import{e as y,F as q,a as E}from"./emailRegexp-VPj5it_j.js";import{c as k,a as m,F as T}from"./index.esm-6LkaSKmE.js";import{S as B,W as I,a as M,F as P,b as u,I as p,E as c,c as W,B as v,T as D,d as L,e as V}from"./RenderForm.styled-wAAqTys5.js";import{i as $}from"./auth_form_img-4oz31SMr.js";import{M as O}from"./MaskPhoneNumber-58LuY6zz.js";import"./index-iTD9QEn1.js";const Y=n=>({numberClean:n.replace(/\D/g,"").split("").splice(2).join("")}),z=k().shape({fullName:m().min(3,"Min length 3 symbol").max(30,"Max length 3 symbol").required("Your name and surname are required!"),email:m().matches(y,"This is an ERROR email").required("Email required"),password:m().min(8,"Password must contain at least 8 characters").required("Password required"),tel:m().min(10).required("Phone number required")}),X=()=>{const[n,x]=r.useState(!1),[i,b]=r.useState(!0),f=r.useRef(null),h=N(),j=F(),g=r.useCallback(s=>{const{numberClean:t}=Y(s.tel),d={fullName:s.fullName,email:s.email,password:s.password,phoneNumber:t};h(R(d))},[h]);return r.useEffect(()=>{const s=setTimeout(()=>b(!1),500);return()=>{clearTimeout(s)}},[i]),e.jsxs(e.Fragment,{children:[i&&e.jsx(S,{}),!i&&e.jsx(B,{children:e.jsxs(C,{children:[e.jsxs(I,{children:[e.jsxs(M,{children:[e.jsx(T,{initialValues:{fullName:"",email:"",password:"",tel:""},onSubmit:g,validationSchema:z,children:({values:s,handleChange:t,handleSubmit:d,handleBlur:l,errors:a,touched:o,isSubmitting:w})=>e.jsxs(P,{onSubmit:d,children:[e.jsxs(u,{children:[e.jsx(p,{type:"text",placeholder:"Full Name",name:"fullName",value:s.fullName,onChange:t,onBlur:l}),a.fullName&&o.fullName&&e.jsx(c,{children:a.fullName})]}),e.jsxs(u,{children:[e.jsx(O,{ref:f,placeholder:"Phone Number",type:"tel",name:"tel",value:s.tel,onChange:t,onBlur:l}),a.tel&&o.tel&&e.jsx(c,{children:a.tel})]}),e.jsxs(u,{children:[e.jsx(p,{type:"email",placeholder:"Email",name:"email",value:s.email,onChange:t,onBlur:l,autoComplete:""}),a.email&&o.email&&e.jsx(c,{children:a.email})]}),e.jsxs(u,{children:[e.jsxs(W,{children:[e.jsx(p,{type:n?"text":"password",name:"password",placeholder:"Password",value:s.password,onChange:t,onBlur:l,autoComplete:""}),e.jsx("button",{type:"button",onClick:()=>x(!n),children:n?e.jsx(E,{}):e.jsx(q,{})})]}),a.password&&o.password&&e.jsx(c,{children:a.password})]}),e.jsx(v,{type:"submit",disabled:w,children:"Register Now"})]})}),e.jsxs(D,{children:[e.jsx("p",{children:"Don`t have an account?"}),e.jsx("button",{type:"button",onClick:()=>j("/login"),children:"Signup now"})]})]}),e.jsx(L,{src:$,alt:"",height:"500",width:"300"})]}),e.jsx(V,{type:"button",onClick:()=>j("/"),children:"Return to the Menu"})]})})]})};export{X as default};

import{b as s,c as D,k as x,j as c,X as N,U as j,V as l}from"./index-SACi1fX3.js";import{F as S}from"./FormChangeAddDish-S7yO7ovo.js";import{C as w}from"./Container-aQmfCYZ1.js";import"./index-kwmW7uRs.js";import"./index.esm-nbrP6BH1.js";import"./index.esm-y-XKCFwx.js";import"./index.esm--hxwaIQ1.js";import"./specifics_dish-wj0nZKOz.js";import"./styled-TKwDrmD3.js";import"./ButtonBase-pMG3l_O0.js";import"./MarkupComponent.styled-gKYIAPQK.js";const L=()=>{var p,o;const[a,m]=s.useState(null),d=D(),n=x(),i=s.useRef(((p=n.state)==null?void 0:p.from.pathname)??""),r=s.useRef(((o=n.state)==null?void 0:o.value)??""),h=i.current===""?"":i.current.split("/")[2],f=r.current===""?"":r.current,u={image:"",name:"",description:"",price:"",discounted:0,gram:"",specificsName:h,specifics:f},g=t=>{const e=new FormData;return e.append("description",t.description),e.append("discounted",t.discounted),e.append("image",a||t.image),e.append("name",t.name),e.append("price",t.price),e.append("gram",t.gram),e.append("specificsDish",JSON.stringify({[t.specificsName]:t.specifics})),d(N(e)),j.success("Dish added",l)};return c.jsx("section",{children:c.jsx(w,{children:c.jsx(S,{handelSubmitForm:g,initialValues:u,setPatchImg:m,newDish:!0,patch:i.current})})})};export{L as default};

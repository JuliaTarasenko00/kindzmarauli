import{b as s,c as D,k as x,j as c,Z as N,W as j,X as l}from"./index-RaBAhGgm.js";import{F as S}from"./FormChangeAddDish-2fgJYSlS.js";import{C as w}from"./Container-ygqZiaoT.js";import"./index-sbixjjSV.js";import"./index.esm-7Mf2wn5v.js";import"./index.esm-v5BRPeei.js";import"./index.esm-KeONBzoM.js";import"./specifics_dish-wj0nZKOz.js";import"./defaultTheme-pH9p3Vo2.js";import"./styled-08D9QMiN.js";import"./ButtonBase-K6Lyvx15.js";import"./TransitionGroupContext-5jBC02s1.js";import"./utils-Njv5bKd2.js";import"./MarkupComponent.styled-tfwXq5QD.js";const T=()=>{var n,o;const[r,m]=s.useState(null),d=D(),p=x(),e=s.useRef(((n=p.state)==null?void 0:n.from.pathname)??""),a=s.useRef(((o=p.state)==null?void 0:o.value)??""),h=e.current===""?"":e.current.split("/")[2],f=a.current===""?"":a.current,u={image:"",name:"",description:"",price:"",discounted:0,gram:"",specificsName:h,specifics:f},g=t=>{const i=new FormData;return i.append("description",t.description),i.append("discounted",t.discounted),i.append("image",r||t.image),i.append("name",t.name),i.append("price",t.price),i.append("gram",t.gram),i.append("specificsDish",JSON.stringify({[t.specificsName]:t.specifics})),d(N(i)),j.success("Dish added",l)};return c.jsx("section",{children:c.jsx(w,{children:c.jsx(S,{handelSubmitForm:g,initialValues:u,setPatchImg:m,newDish:!0,patch:e.current})})})};export{T as default};

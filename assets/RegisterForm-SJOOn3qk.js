import{b as l,c as N,d as R,f as S,j as e,L as C,C as F}from"./index-OF7pzLKL.js";import{e as y,S as q,W as E,a as k,F as T,b as m,I as p,E as u,c as B,d as I,f as M,B as P,T as W,g as v,h as D}from"./emailRegexp-Xh56UZ6S.js";import{c as L,a as c,F as V}from"./index.esm-AX1qLZEx.js";import{i as $}from"./auth_form_img-4oz31SMr.js";import{M as O}from"./MaskPhoneNumber-i0pTzPme.js";import"./index-_JRL6Qm-.js";const Y=n=>({numberClean:n.replace(/\D/g,"").split("").splice(2).join("")}),z=L().shape({fullName:c().min(3,"Min length 3 symbol").max(30,"Max length 3 symbol").required("Your name and surname are required!"),email:c().matches(y,"This is an ERROR email").required("Email required"),password:c().min(8,"Password must contain at least 8 characters").required("Password required"),tel:c().min(10).required("Phone number required")}),U=()=>{const[n,h]=l.useState(!1),[r,b]=l.useState(!0),f=l.useRef(null),x=N(),j=R(),g=l.useCallback(s=>{const{numberClean:t}=Y(s.tel),d={fullName:s.fullName,email:s.email,password:s.password,phoneNumber:t};x(S(d))},[x]);return l.useEffect(()=>{const s=setTimeout(()=>b(!1),500);return()=>{clearTimeout(s)}},[r]),e.jsxs(e.Fragment,{children:[r&&e.jsx(C,{}),!r&&e.jsx(q,{children:e.jsxs(F,{children:[e.jsxs(E,{children:[e.jsxs(k,{children:[e.jsx(V,{initialValues:{fullName:"",email:"",password:"",tel:""},onSubmit:g,validationSchema:z,children:({values:s,handleChange:t,handleSubmit:d,handleBlur:i,errors:a,touched:o,isSubmitting:w})=>e.jsxs(T,{onSubmit:d,children:[e.jsxs(m,{children:[e.jsx(p,{type:"text",placeholder:"Full Name",name:"fullName",value:s.fullName,onChange:t,onBlur:i}),a.fullName&&o.fullName&&e.jsx(u,{children:a.fullName})]}),e.jsxs(m,{children:[e.jsx(O,{ref:f,placeholder:"Phone Number",type:"tel",name:"tel",value:s.tel,onChange:t,onBlur:i}),a.tel&&o.tel&&e.jsx(u,{children:a.tel})]}),e.jsxs(m,{children:[e.jsx(p,{type:"email",placeholder:"Email",name:"email",value:s.email,onChange:t,onBlur:i,autoComplete:""}),a.email&&o.email&&e.jsx(u,{children:a.email})]}),e.jsxs(m,{children:[e.jsxs(B,{children:[e.jsx(p,{type:n?"text":"password",name:"password",placeholder:"Password",value:s.password,onChange:t,onBlur:i,autoComplete:""}),e.jsx("button",{type:"button",onClick:()=>h(!n),children:n?e.jsx(M,{}):e.jsx(I,{})})]}),a.password&&o.password&&e.jsx(u,{children:a.password})]}),e.jsx(P,{type:"submit",disabled:w,children:"Register Now"})]})}),e.jsxs(W,{children:[e.jsx("p",{children:"Don`t have an account?"}),e.jsx("button",{type:"button",onClick:()=>j("/login"),children:"Signup now"})]})]}),e.jsx(v,{src:$,alt:"",height:"500",width:"300"})]}),e.jsx(D,{type:"button",onClick:()=>j("/"),children:"Return to the Menu"})]})})]})};export{U as default};

import{b as s,c as D,k as x,j as c,Z as N,W as j,X as l}from"./index-bcBMVgA9.js";import{F as S}from"./FormChangeAddDish-12Z5Ge36.js";import{C as w}from"./Container-AI4b4TB1.js";import"./index-snWXqJox.js";import"./index.esm-DKxMFapW.js";import"./index.esm-4ferryu_.js";import"./index.esm-c7reRWkM.js";import"./specifics_dish-wj0nZKOz.js";import"./defaultTheme-ZRyStqT3.js";import"./styled-fTjtcXJi.js";import"./ButtonBase-aIqlBOf9.js";import"./TransitionGroupContext-RMZt82C4.js";import"./utils-vwdtkp0m.js";import"./MarkupComponent.styled--tSaFH9j.js";const T=()=>{var n,o;const[r,m]=s.useState(null),d=D(),p=x(),e=s.useRef(((n=p.state)==null?void 0:n.from.pathname)??""),a=s.useRef(((o=p.state)==null?void 0:o.value)??""),h=e.current===""?"":e.current.split("/")[2],f=a.current===""?"":a.current,u={image:"",name:"",description:"",price:"",discounted:0,gram:"",specificsName:h,specifics:f},g=t=>{const i=new FormData;return i.append("description",t.description),i.append("discounted",t.discounted),i.append("image",r||t.image),i.append("name",t.name),i.append("price",t.price),i.append("gram",t.gram),i.append("specificsDish",JSON.stringify({[t.specificsName]:t.specifics})),d(N(i)),j.success("Dish added",l)};return c.jsx("section",{children:c.jsx(w,{children:c.jsx(S,{handelSubmitForm:g,initialValues:u,setPatchImg:m,newDish:!0,patch:e.current})})})};export{T as default};
